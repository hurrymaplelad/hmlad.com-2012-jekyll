
<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Hurry Maple Lad</title>
  <meta name="author" content="Adam Hull">

  
  <meta name="description" content="This should be simple, but Mongoose really clings to data in existing documents. I&#8217;ll walk through all the ways I wanted it to work that failed &hellip;">
  

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  
  <link href="/atom.xml" rel="alternate" title="Hurry Maple Lad" type="application/atom+xml">
  
  <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35976996-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header>
    <h1 role="banner"><a href="/">
  hurry
  <br>maple
  <br>lad
</a></h1>

    <nav role="navigation">
      
    </nav>
  </header>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/removing-a-property-from-a-mongoose-schema/">How to Remove a Property From a Mongoose.js Schema</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-03T00:00:00-07:00" pubdate data-updated="true">November 3<span>rd</span>, 2012</time>
      </p>
    
  </header>


  <div class="entry-content"><p>This should be simple, but Mongoose really clings to data in existing documents.  I&#8217;ll walk through all the ways I wanted it to work that failed.  We&#8217;ll remove an <code>organic</code> flag from a toy <code>Food</code> model so we can replace it with <a href="http://www.nytimes.com/2012/10/14/opinion/sunday/bittman-my-dream-food-label.html">Bittman&#8217;s dream label</a>.  If you just came for the solution, I arrived at:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">Food</span><span class="p">.</span><span class="nx">collection</span><span class="p">.</span><span class="nx">update</span><span class="p">({},</span>
</span><span class='line'>  <span class="p">{</span><span class="nx">$unset</span><span class="o">:</span> <span class="p">{</span><span class="nx">organic</span><span class="o">:</span> <span class="kc">true</span><span class="p">}},</span>
</span><span class='line'>  <span class="p">{</span><span class="nx">multi</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">safe</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
</span><span class='line'><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>




</div>
  
  
    <footer>
      <a rel="full-article" href="/removing-a-property-from-a-mongoose-schema/">â–¨ More</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/archives">Archives</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Adam Hull 2012

  <a class="linkedin icon" 
     href="http://www.linkedin.com/in/hurrymaplelad" 
     target="_blank"></a>
  <a class="goodreads icon" 
     href="http://www.goodreads.com/hurrymaplelad" 
     target="_blank"></a>
  <a class="stackoverflow icon" 
     href="http://stackoverflow.com/users/407845/hurrymaplelad" 
     target="_blank"></a>
  <a class="github icon" 
     href="https://github.com/hurrymaplelad" 
     target="_blank"></a>
</p>
</footer>
</body>
</html>
